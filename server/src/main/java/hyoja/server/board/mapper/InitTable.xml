<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
 
<mapper namespace="hyoja.server.board.mapper.InitTable">
  <!-- team table -->
  <select id="teamTable">
    CREATE TABLE IF NOT EXISTS team
    (
      id INT NOT NULL,
      name VARCHAR(50) NOT NULL,
      logo_image VARCHAR(100),
      PRIMARY KEY(id)
    )
  </select>

  <!-- hitter main record table -->
  <select id="hitterMainTable">
    CREATE TABLE IF NOT EXISTS hitter_main_record
    (
      id INT NOT NULL,
      hitter_basic_record_id INT NOT NULL,
      game INT NOT NULL,
      타석 INT NOT NULL, <!-- 타석 -->
      at_bat INT NOT NULL, <!-- 타수 -->
      hit INT NOT NULL, <!-- 안타 -->
      hr INT NOT NULL, <!-- 홈런 -->
      scored INT NOT NULL, <!-- 득점 -->
      rbi INT NOT NULL, <!-- 타점 -->
      bb INT NOT NULL, <!-- 볼넷 -->
      strikesouts INT NOT NULL, <!-- 삼진 -->
      batting_avg DOUBLE NOT NULL, <!-- 타율 -->
      obp DOUBLE NOT NULL, <!-- 출루율 -->
      slg DOUBLE NOT NULL, <!-- 장타율 -->
      ops INT NOT NULL, <!-- 출루율과 장타율의 합 -->
      war DOUBLE NOT NULL,
      PRIMARY KEY(id),
      FOREIGN KEY(hitter_basic_record_id) REFERENCES hitter_basic_record(id)
    )
  </select>

  <!-- pitcher main record table -->
  <select id="pticherMainTable">
    CREATE TABLE IF NOT EXISTS pitcher_main_record
    (
      id INT NOT NULL,
      pitcher_basic_record_id INT NOT NULL,
      win INT NOT NULL,
      lose INT NOT NULL,
      save INT NOT NULL,
      hold INT NOT NULL,
      blown INT NOT NULL,
      game INT NOT NULL,
      starting INT NOT NULL, <!-- 선발 -->
      이닝 INT NOT NULL, <!-- 이닝 -->
      strikesouts INT NOT NULL, <!-- 삼진 -->
      bb INT NOT NULL, <!-- 볼넷 -->
      hr INT NOT NULL, <!-- 홈런 -->
      lob DOUBLE NOT NULL,
      era DOUBLE NOT NULL,
      ra9_war DOUBLE NOT NULL,
      fip DOUBLE NOT NULL,
      kfip DOUBLE NOT NULL,
      war DOUBLE NOT NULL,
      PRIMARY KEY(id)
      FOREIGN KEY(pitcher_basic_record_id) REFERENCES pitcher_basic_record(id)
    )
  </select>

  <!-- hitter basic record table -->
  <select id="hitterBasicTable">
    CREATE TABLE IF NOT EXISTS hitter_basic_record
    (
      id INT NOT NULL,
      single INT NOT NULL,
      double INT NOT NULL,
      triple INT NOT NULL,
      bb INT NOT NULL, <!-- 볼넷 -->
      ibb INT NOT NULL, <!-- 고의4구 -->
      HBP INT NOT NULL, <!-- 데드볼 -->
      strikeouts INT NOT NULL, <!-- 삼진 -->
      희플 INT NOT NULL,
      희타 INT NOT NULL,
      병살 INT NOT NULL,
      도실 INT NOT NULL
      PRIMARY KEY(id)
    )
  </select>

  <!-- pitcher basic record table -->
  <select id="pitcherBasicTable">
    CREATE TABLE IF NOT EXISTS pitcher_basic_record
    (
      id INT NOT NULL,
      완투 INT NOT NULL, <!-- 완투 -->
      완봉 INT NOT NULL, <!-- 완봉 -->
      QS INT NOT NULL,
      타자 INT NOT NULL, <!-- 타자 -->
      안타 INT NOT NULL, <!-- 안타-->
      2루타 INT NOT NULL, <!-- 2루타 -->
      3루타 INT NOT NULL, <!-- 3루타 -->
      실점 INT NOT NULL, <!-- 실점 -->
      자책 INT NOT NULL, <!-- 자책 -->
      삼진 INT NOT NULL, <!-- 삼진 -->
      고4 INT NOT NULL, <!-- 고의4구 -->
      HBP INT NOT NULL,
      폭투 INT NOT NULL, <!-- 폭투 -->
      보크 INT NOT NULL, <!-- 보크 -->
      PK INT NOT NULL,
      도루 INT NOT NULL, <!-- 도루 -->
      도실 INT NOT NULL, <!-- 도실 -->
      PRIMARY KEY(id)
    )
  </select>

  <!-- player talbe -->
  <select id="playerTable">
    CREATE TABLE IF NOT EXISTS player
    (
      id INT NOT NULL,
      team_id INT NOT NULL,
      hitter_record_id INT,
      pitcher_record_id INT,
      name VARCHAR(50) NOT NULL,
      birthday DATE NOT NULL,
      salary INT NOT NULL,
      PRIMARY KEY(id),
      FOREIGN KEY(team_id) REFERENCES team(id),
      FOREIGN KEY(hitter_record_id) REFERENCES hitter_record(id),
      FOREIGN KEY(pitcher_record_id) REFERENCES pitcher_record(id)
    )
  </select>

  <!-- season table -->
  <select id="seasonTable">
    CREATE TABLE IF NOT EXISTS season
    (
      id INT NOT NULL,
      team_id INT NOT NULL,
      name VARCHAR(30) NOT NULL,
      PRIMARY KEY(id),
      FOREIGN KEY(team_id) REFERENCES team(id)
    )
  </select>
</mapper>